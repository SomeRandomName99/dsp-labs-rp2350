This lab truly brought to life the meaning of "standing on the shoulders of giants" for me. I was mostly used to getting starter code for labs that I have to fill in, but this time the starter code was written by me and I understood every single line of it. It was a pleasant experience to say the least.

In this lab I had to implement a voice changer that produces alien/robot voices from 80s and 90s era films. The procedure itself is pretty easy, you just have to multiply by a sinusoidal functions and then it magically happens. The theory behind why it works is more profound however. Multiplying by a sinusoid is basically a convolution of the frequency responses of both the input signals and the sinusoid. Since the sinusoid's frequency response is 2 shifted deltas(also scaled), then the frequency content of the voice is just shifted up. This results in aliasing for frequencies that cross the ~20KHz boundary(depending on the sampling frequency) which then appear as very lowe frequencies which is was produces the tinny robot sound that we all know.

Implementing this lab taught me about generating sine tables and interpolating between values for a better approximation. I chose to generate my own sine table in hardware during board startup, because I wanted to have the ability to tweak the frequencies by just reflashing the program. I also thought about using the CMSIS-DSP sin function, but the sine table they provide was too small for my liking. Additionally, The CMSIS-DSP interpolation function did not seem to be vectorized, so I wrote my own and made it very simple to get the best compiler optimizations.

The end result was cool, but I was not fully satisfied with it because as I mentioned in the previous blog, the stop band of the FIR filter was too wide which removed important low frequencies. I will tackle this problem next.